{"componentChunkName":"component---src-templates-blog-post-js","path":"/notes-css-variables-tae/","result":{"data":{"site":{"siteMetadata":{"title":"30 Days of CSS Girls","author":"CodingGirlsSG"}},"markdownRemark":{"id":"e89d0319-77de-5037-b370-78725ad479e8","excerpt":"Original post by tae: Reading CSS Variables #TIL CSS Variables Level 1 Introduction Many of the values in the CSS file will be duplicate data. It may error…","html":"<p>Original post by <a href=\"https://github.com/Ta2Rim\">tae</a>: <a href=\"https://gist.github.com/Ta2Rim/6fc0aeda85a585a22ee5f56adda9bda0\">Reading CSS Variables</a></p>\n<h1>#TIL CSS Variables Level 1</h1>\n<h2>Introduction</h2>\n<p>Many of the values in the CSS file will be duplicate data. It may error-prone and diffcult, also not be ameanable to Find-and-Replace.\nThis module introduces a family of custom author-defined properties known collectively as custom properties. One only has to change the value once, in the custom property, and the change will propagate to all uses of that variable automatically.</p>\n<h2>The <code class=\"language-text\">--*</code> family of properties : Defining Custom Properties</h2>\n<p>A <strong>custom property</strong> is any property whose name starts with two dashes like <code class=\"language-text\">--foo</code>\nThe <code class=\"language-text\">&lt;custom-property-name></code> production corresponds to this : it’s defined as any valid identifier that starts with two dashes.</p>\n<p>Unlike other CSS properties, custom property names are case-sensitive.</p>\n<p>The CSS-wide keywords can be used in custom properties, with the same meaning as in any another property.</p>\n<p>** <a href=\"https://www.w3.org/TR/css3-values/#common-keywords\">CSS-wide keywords: initial, inherit and unset</a></p>\n<h2>Custom Property Value Syntax</h2>\n<p>The allowed syntax for custom properties is permissive. The <declaration-value> production matches any sequence of one or more tokens, so long as the sequence does not contain <bad-string-token>, <bad-url-token>, un matched &#x3C;-) token> , or&#x3C;}-token> or top-level <semicolon-tken> tokens or <delim-token> tokens with a value of ’!’</p>\n<p>For example, the following is a valid custom property:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  --foo: if(x > 5) this.width = 10;</code></pre></div>\n<p>While this value is obviously useless as a variable, as it would be invalid in any normal property, it might be read and acted on by Javascript.</p>\n<ul>\n<li>The initial value of a custom property is an empty value; that is, nothing at all. This initial value has a special interaction with the <code class=\"language-text\">var()</code> notation.</li>\n<li>\n<p>custom properties are ordinary properties, so they can be declared on any element…</p>\n<ul>\n<li>are resolved with the normal inheritance and cascade rules</li>\n<li>can be conditional with <code class=\"language-text\">@media</code> and other conditional rules</li>\n<li>can be usedin HTML’s style attribute</li>\n<li>can be read or set using the CSSOM</li>\n<li>etc</li>\n</ul>\n</li>\n<li>it’s important to note that custom properties resolve any <code class=\"language-text\">var()</code> functions in their values at computed-value time, which occurs before the value is inherited. In general cyclic dependencies occur only when multiple custom properties on the same element refer to each other;</li>\n</ul>\n<p>valid example</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  &lt;one>&lt;two>&lt;three/>&lt;/two>&lt;/one>\n  one { --foo : 10px; }\n  two { --bar : calc(var(--foo) + 10px); }\n  three { --foo : calc(var(--bar) + 10px); }</code></pre></div>\n<h2>the <code class=\"language-text\">var()</code> notation : Using Cascading Variblaes</h2>\n<p>The value of a custom property can be subsitituted into the value of another property with the <code class=\"language-text\">var()</code> function.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  **var()** = var( &lt;custom-property-name> [, &lt;declaration-value> ]? )\n  \n  &lt;custom-property-name> - name of custom property to be subsititued.\n  &lt;declaration-value> - if provided, is a fallback value used as the substituion value when the referenced custom property is invalid.1\n\n  var(--foo, red, value)</code></pre></div>\n<p>But the <code class=\"language-text\">var()</code>function cannot be used as property names, selectors, or anything else besides property values.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  author can't build up a single token where part of it is provided by a variable\n  \n  .foo {\n    --gap: 20;\n    margin-top: var(--gap)px;\n   }\n   \n   \n   valid example\n   \n  .foo {\n    --gap: 20;\n    margin-top: calc(var(--gap) * 1px);\n   }\n   \n    </code></pre></div>\n<p>** <code class=\"language-text\">var()</code> functions are substitued at computed-value time. If a declaration, once all <code class=\"language-text\">var()</code> functions are substitued in, is invalid, the declaration is invalid at computed value time.**</p>\n<h3>Invalid Variables</h3>\n<p>A declaration can be invalid at computed-value time if it contains a <code class=\"language-text\">var()</code> that references a custom property with its initail value.\nWhen this happens, the computed value of the property is either the property’s inherited value or its initial value depending on whether the property is inherited or not, repectively as if the property’s value had been specified as the ‘unset’ keyword.</p>\n<h3>Variables in Shorthand Properties</h3>\n<p>The use of <code class=\"language-text\">var()</code> functions in shorthand properties presents some unique difficulties.</p>\n<p><code class=\"language-text\">margin : 10px -> margin-top: 10px; margin-left:10px; margin-bottom:10px; margin-right:10px;</code></p>\n<p>If a <code class=\"language-text\">var()</code> functions is used in a shorthand, however, one can’t tell what values are meant to go where; it may in fact be impossible to separate it out at parse time.</p>\n<p>To get around this, implementations must fil in longhands with a special, unobservable-to-authors pending-substitution value that indicates the shorthand contains a variable, and thus the longhand’s value is pending variable substitution.</p>\n<h2>APIs</h2>\n<p>All custom property declarations have the case-insensitive flag set.</p>\n<h2>Serializing custom Properties</h2>\n<p>Custom property names must be serialized with the casing as provided by the author.</p>\n<h2>What’s more?</h2>\n<p><a href=\"https://drafts.csswg.org/css-extensions/\">CSS-EXTENSIONS</a> - custom properties can also be used as actual custom properties, parsed by and acted on by script. I’ts expcted that the CSS Extensions spec will expand on these use-cases and make them easier to do.</p>\n<p>Fallback - With fallback, the component author can supply defaults, so the app author only needs to supply values for the values for the variables they wish to override.</p>","frontmatter":{"title":"Study Notes: Reading CSS Variables","date":"March 12, 2019"}}},"pageContext":{"slug":"/notes-css-variables-tae/","previous":{"fields":{"slug":"/day-13-14--ticket/"},"frontmatter":{"title":"Days 13 ~ 14: Ticket"}},"next":{"fields":{"slug":"/day-15-16--grid/"},"frontmatter":{"title":"Days 15 ~ 16: CSS Grid"}}}},"staticQueryHashes":["2633910083","3128451518","3649515864"]}